v 20150930 2
C 40000 40000 0 0 0 title-bordered-A4.sym
{
T 61100 40700 5 14 1 1 0 1 1
project=Project
T 55200 42000 5 20 1 1 0 0 1
title1=Schematic
T 55200 41500 5 20 1 1 0 0 1
title2=Diagram
T 55900 40700 5 14 1 1 0 1 1
file=File.sch
T 63700 40700 5 14 1 1 0 4 1
page=0
T 64700 40700 5 14 1 1 0 4 1
pageof=0
T 64200 42300 5 14 1 1 0 4 1
revision=0.0
T 64200 41500 5 14 1 1 0 4 1
date=05-06-2014
T 58500 40700 5 14 1 1 0 1 1
author=Author
}
C 40800 57900 1 0 0 spice-directive-1.sym
{
T 40900 58200 5 10 0 1 0 0 1
device=directive
T 40900 58300 5 10 1 1 0 0 1
refdes=A1
T 40800 55900 5 10 1 1 0 0 11
value=.OPTIONS ABSTOL=10nA VNTOL=1uV CHGTOL=1pC ITL1=150 ITL2=150 ITL4=500 RELTOL=0.01

.CONTROL
  *OP
  TRAN 10u 200ms
  PLOT V(ctrl) V(out) V(gate) I(Vout) V(DIFF_OUT) V(OCPROT#)
  MEAS tran I_surge MAX i(Vout) from=1m to=100m
  MEAS tran t_on TRIG v(ctrl) VAL=1 RISE=1 TARG v(out) VAL=6.3 RISE=1
  MEAS tran t_rise TRIG v(out) VAL=0.7 RISE=1 TARG v(out) VAL=6.3 RISE=1
.ENDC

}
C 55800 50900 1 270 1 SPICE_PMOSFET-1.sym
{
T 55900 52100 5 10 1 1 0 0 1
refdes=XT1
T 57400 51100 5 10 0 0 90 2 1
symversion=1.0
T 57600 51100 5 10 0 0 90 2 1
device=TRANSISTOR
T 55900 51900 5 10 1 1 0 0 1
model-name=IRLML9301
T 55900 51700 5 8 1 1 0 0 1
file=IRLML9301.cir
}
N 49500 51400 55800 51400 4
N 56800 51400 61600 51400 4
{
T 60400 51450 5 10 1 1 0 0 1
netname=out
}
N 61600 51400 61600 50300 4
N 53600 47500 54400 47500 4
{
T 53700 47550 5 10 1 1 0 0 1
netname=ctrl
}
C 54700 46300 1 0 0 GND-1.sym
N 54900 46700 54900 47000 4
N 55600 50100 55600 50400 4
C 54100 49100 1 270 1 res-1.sym
{
T 54800 49300 5 10 0 0 90 2 1
symversion=1.1
T 55000 49300 5 10 0 0 90 2 1
device=RESISTOR
T 55200 49300 5 10 0 0 90 2 1
footprint=ACY100
T 53850 49300 5 10 1 1 90 0 1
refdes=R7
T 54050 49300 5 10 1 1 90 0 1
value=47k
}
N 55400 50100 56100 50100 4
N 54400 50100 54200 50100 4
N 54200 50100 54200 51400 4
N 54200 49100 55600 49100 4
N 54900 49100 54900 49600 4
N 54900 48000 54900 48100 4
C 54800 48100 1 270 1 res-1.sym
{
T 55500 48300 5 10 0 0 90 2 1
symversion=1.1
T 55700 48300 5 10 0 0 90 2 1
device=RESISTOR
T 55900 48300 5 10 0 0 90 2 1
footprint=ACY100
T 54550 48300 5 10 1 1 90 0 1
refdes=R9
T 54750 48300 5 10 1 1 90 0 1
value=47k
}
C 55800 50400 1 90 0 cap-1.sym
{
T 55000 50600 5 10 0 0 90 0 1
symversion=1.0
T 54800 50600 5 10 0 0 90 0 1
device=CAPACITOR
T 54600 50600 5 10 0 0 90 0 1
footprint=RCY50
T 55300 50900 5 10 1 1 90 0 1
refdes=C1
T 55500 50900 5 10 1 1 90 0 1
value=0.22u
}
N 55600 51000 55600 51400 4
N 56100 50100 56100 50900 4
{
T 56050 50200 5 10 1 1 90 0 1
netname=gate
}
C 53300 46400 1 0 0 vpulse-1.sym
{
T 54000 46900 5 10 1 1 0 0 1
refdes=Vctrl
T 53300 47700 5 10 0 0 0 0 1
device=vpulse
T 53300 47900 5 10 0 0 0 0 1
footprint=none
T 54000 46700 5 10 1 1 0 0 1
value=PULSE 0 3.3 1ms 100n 100n 100ms 200ms
}
N 53600 47400 53600 47500 4
C 53400 46000 1 0 0 GND-1.sym
C 61800 49700 1 90 0 cap-1.sym
{
T 61000 49900 5 10 0 0 90 0 1
symversion=1.0
T 60800 49900 5 10 0 0 90 0 1
device=CAPACITOR
T 60600 49900 5 10 0 0 90 0 1
footprint=RCY50
T 61300 50200 5 10 1 1 90 0 1
refdes=C2
T 61500 50200 5 10 1 1 90 0 1
value=2.2u
}
C 61400 48800 1 0 0 GND-1.sym
N 61600 49200 61600 49700 4
C 60700 49500 1 270 1 res-1.sym
{
T 61400 49700 5 10 0 0 90 2 1
symversion=1.1
T 61600 49700 5 10 0 0 90 2 1
device=RESISTOR
T 61800 49700 5 10 0 0 90 2 1
footprint=ACY100
T 60450 49700 5 10 1 1 90 0 1
refdes=R10
T 60650 49700 5 10 1 1 90 0 1
value=5.6k
}
N 60800 50500 60800 51400 4
C 60600 48800 1 0 0 GND-1.sym
N 60800 49200 60800 49500 4
C 54400 47000 1 0 0 SPICE_NPN-1.sym
{
T 55000 47600 5 10 1 1 0 0 1
refdes=XT2
T 54500 48200 5 10 0 0 0 0 1
symversion=1.0
T 54500 48400 5 10 0 0 0 0 1
device=TRANSISTOR
T 55000 47400 5 10 1 1 0 0 1
model-name=PDTC114EU
T 55000 47200 5 8 1 0 0 0 1
file=PDTC114EU.cir
}
C 52100 55500 1 0 0 vdc-1.sym
{
T 52100 56900 5 10 0 0 0 0 1
device=VOLTAGE_SOURCE
T 52100 57100 5 10 0 0 0 0 1
footprint=none
T 52900 56100 5 10 1 1 0 0 1
refdes=V2
T 52900 55900 5 10 1 1 0 0 1
value=DC 7V
}
C 52300 55100 1 0 0 GND-1.sym
C 52300 56500 1 0 0 VCC-1.sym
C 43900 51300 1 0 0 res-1.sym
{
T 44100 52000 5 10 0 0 0 0 1
symversion=1.1
T 44100 52200 5 10 0 0 0 0 1
device=RESISTOR
T 44100 52400 5 10 0 0 0 0 1
footprint=ACY100
T 44100 51750 5 10 1 1 0 0 1
refdes=Rcs
T 44100 51550 5 10 1 1 0 0 1
value=180m
}
N 44000 51100 43800 51100 4
N 44800 51100 45000 51100 4
N 45000 51100 45000 51400 4
N 44400 45900 46500 45900 4
{
T 44500 45950 5 10 1 1 0 0 1
netname=DIFF_OUT
}
C 47300 44800 1 0 1 GND-1.sym
C 44100 49600 1 90 0 res-1.sym
{
T 43400 49800 5 10 0 0 90 0 1
symversion=1.1
T 43200 49800 5 10 0 0 90 0 1
device=RESISTOR
T 43000 49800 5 10 0 0 90 0 1
footprint=ACY100
T 43650 49800 5 10 1 1 90 0 1
refdes=R1
T 43850 49800 5 10 1 1 90 0 1
value=1.2k
}
C 44900 49600 1 90 0 res-1.sym
{
T 44200 49800 5 10 0 0 90 0 1
symversion=1.1
T 44000 49800 5 10 0 0 90 0 1
device=RESISTOR
T 43800 49800 5 10 0 0 90 0 1
footprint=ACY100
T 44450 49800 5 10 1 1 90 0 1
refdes=R3
T 44650 49800 5 10 1 1 90 0 1
value=1.2k
}
C 47500 46900 1 0 0 SPICE_OPAMP-1.sym
{
T 47800 48500 5 10 0 0 0 0 1
symversion=1.0
T 47800 48700 5 10 0 0 0 0 1
device=IC
T 47800 48400 5 10 1 1 180 8 1
refdes=XU4
T 47800 48200 5 10 1 1 180 8 1
model-name=LM393
T 49000 46900 5 8 1 0 180 2 1
file=LM393.cir
}
N 47100 47100 47500 47100 4
N 49300 47500 51400 47500 4
{
T 50000 47550 5 10 1 1 0 0 1
netname=OCPROT#
}
C 49600 47800 1 270 1 res-1.sym
{
T 50300 48000 5 10 0 0 90 2 1
symversion=1.1
T 50500 48000 5 10 0 0 90 2 1
device=RESISTOR
T 50700 48000 5 10 0 0 90 2 1
footprint=ACY100
T 50050 48000 5 10 1 1 90 2 1
refdes=R5
T 49850 48000 5 10 1 1 90 2 1
value=10k
}
C 49900 48800 1 0 1 VCC-1.sym
N 49700 47800 49700 47500 4
N 43800 51100 43800 51400 4
N 42800 51400 43900 51400 4
N 48500 51400 44900 51400 4
N 42800 51400 42800 51500 4
C 58200 54700 1 0 0 SPICE_OPAMP_pwr-1.sym
{
T 58200 57100 5 10 0 0 0 0 1
symversion=1.0
T 58200 57300 5 10 0 0 0 0 1
device=IC
T 58200 56900 5 10 0 0 0 0 1
model-name=LM393
T 58100 55400 5 10 1 1 0 0 1
refdes=XU4
T 58100 55600 5 8 1 0 0 0 1
file=LM393.cir
}
C 58200 54300 1 0 0 GND-1.sym
C 58200 56300 1 0 0 VCC-1.sym
N 47100 46200 47100 47100 4
{
T 47050 46600 5 10 1 1 90 6 1
netname=cset
}
C 42600 51500 1 0 0 VCC-1.sym
N 46500 45900 46500 47900 4
C 49500 51000 1 90 0 vdc-1.sym
{
T 48100 51000 5 10 0 0 90 0 1
device=VOLTAGE_SOURCE
T 47900 51000 5 10 0 0 90 0 1
footprint=none
T 48900 51800 5 10 1 1 90 0 1
refdes=Vout
T 49100 51800 5 10 1 1 90 0 1
value=DC 0V
}
N 42400 49600 44000 49600 4
N 44800 49600 46300 49600 4
C 43800 49600 1 270 0 SPICE_OPAMP-1.sym
{
T 45400 49300 5 10 0 0 270 0 1
symversion=1.0
T 45600 49300 5 10 0 0 270 0 1
device=IC
T 43600 48100 5 10 1 1 90 2 1
refdes=XU2
T 43800 48100 5 10 1 1 90 2 1
model-name=TS912
T 45000 49000 5 8 1 0 90 8 1
file=TS912.cir
}
N 44400 45900 44400 47800 4
C 43400 48200 1 90 0 res-1.sym
{
T 42700 48400 5 10 0 0 90 0 1
symversion=1.1
T 42500 48400 5 10 0 0 90 0 1
device=RESISTOR
T 42300 48400 5 10 0 0 90 0 1
footprint=ACY100
T 42950 48400 5 10 1 1 90 0 1
refdes=R2
T 43150 48400 5 10 1 1 90 0 1
value=75k
}
C 45500 48200 1 90 0 res-1.sym
{
T 44800 48400 5 10 0 0 90 0 1
symversion=1.1
T 44600 48400 5 10 0 0 90 0 1
device=RESISTOR
T 44400 48400 5 10 0 0 90 0 1
footprint=ACY100
T 45650 48400 5 10 1 1 90 0 1
refdes=R4
T 45850 48400 5 10 1 1 90 0 1
value=75k
}
N 43300 49200 43300 49600 4
N 45400 49600 45400 49200 4
N 43300 48200 43300 48100 4
N 44400 47800 46300 47800 4
N 45400 47800 45400 48200 4
C 56700 54700 1 0 0 SPICE_OPAMP_pwr-1.sym
{
T 56700 57100 5 10 0 0 0 0 1
symversion=1.0
T 56700 57300 5 10 0 0 0 0 1
device=IC
T 56700 56900 5 10 0 0 0 0 1
model-name=TS912
T 56600 55400 5 10 1 1 0 0 1
refdes=XU2
T 56600 55600 5 8 1 0 0 0 1
file=TS912.cir
}
C 56700 54300 1 0 0 GND-1.sym
C 56700 56300 1 0 0 VCC-1.sym
N 44000 51100 44000 50600 4
N 44800 51100 44800 50600 4
N 46500 47900 47500 47900 4
C 46700 45200 1 0 0 vdc-1.sym
{
T 46700 46600 5 10 0 0 0 0 1
device=VOLTAGE_SOURCE
T 46700 46800 5 10 0 0 0 0 1
footprint=none
T 47500 45800 5 10 1 1 0 0 1
refdes=Vcset
T 47500 45600 5 10 1 1 0 0 1
value=DC 0.5
}
C 43500 47700 1 0 1 GND-1.sym
C 46500 48400 1 90 0 cap-1.sym
{
T 45700 48600 5 10 0 0 90 0 1
symversion=1.0
T 45500 48600 5 10 0 0 90 0 1
device=CAPACITOR
T 45300 48600 5 10 0 0 90 0 1
footprint=RCY50
T 46000 48900 5 10 1 1 90 0 1
refdes=C20
T 46200 48900 5 10 1 1 90 0 1
value=10n
}
N 46300 49600 46300 49000 4
N 46300 48400 46300 47800 4
C 42600 48500 1 90 0 cap-1.sym
{
T 41800 48700 5 10 0 0 90 0 1
symversion=1.0
T 41600 48700 5 10 0 0 90 0 1
device=CAPACITOR
T 41400 48700 5 10 0 0 90 0 1
footprint=RCY50
T 42100 49000 5 10 1 1 90 0 1
refdes=C22
T 42300 49000 5 10 1 1 90 0 1
value=10n
}
N 42400 48500 42400 48100 4
N 42400 48100 43300 48100 4
N 42400 49100 42400 49600 4
C 58100 49000 1 0 0 spice-vc-switch-1.sym
{
T 59700 49700 5 8 0 0 0 0 1
device=SPICE-VC-switch
T 59000 50200 5 12 1 1 0 0 1
refdes=S1
T 58800 49150 5 8 1 1 0 0 1
model-name=sw
}
C 59700 50200 1 270 1 res-1.sym
{
T 60400 50400 5 10 0 0 90 2 1
symversion=1.1
T 60600 50400 5 10 0 0 90 2 1
device=RESISTOR
T 60800 50400 5 10 0 0 90 2 1
footprint=ACY100
T 59450 50400 5 10 1 1 90 0 1
refdes=R18
T 59650 50400 5 10 1 1 90 0 1
value=200k
}
C 59600 48800 1 0 0 GND-1.sym
N 59800 49200 59800 49400 4
N 59800 50000 59800 50200 4
N 59800 51200 59800 51400 4
C 40800 55000 1 0 0 spice-directive-1.sym
{
T 40900 55300 5 10 0 1 0 0 1
device=directive
T 40900 55400 5 10 1 1 0 0 1
refdes=A2
T 40900 55100 5 10 1 1 0 0 1
value=.MODEL SW VSWITCH(VON=5V VOFF=0V RON=0.1 ROFF=1meg)
}
C 56800 49100 1 0 0 vpulse-1.sym
{
T 56500 48600 5 10 1 1 0 0 1
refdes=Vsw
T 56800 50400 5 10 0 0 0 0 1
device=vpulse
T 56800 50600 5 10 0 0 0 0 1
footprint=none
T 56500 48400 5 10 1 1 0 0 1
value=PULSE 0 5 1ms 100n 100n 0.5ms 50ms
}
C 56900 48700 1 0 0 GND-1.sym
N 57100 50100 58300 50100 4
{
T 57200 50150 5 10 1 1 0 0 1
netname=sw
}
N 58300 50100 58300 50000 4
N 58300 49400 58300 49100 4
N 58300 49100 57100 49100 4
C 55400 49600 1 90 0 SPICE_NPN-1.sym
{
T 54700 50200 5 10 1 1 90 0 1
refdes=Q1
T 54200 49700 5 10 0 0 90 0 1
symversion=1.0
T 54000 49700 5 10 0 0 90 0 1
device=TRANSISTOR
T 54900 50200 5 10 1 1 90 0 1
model-name=QBC817
T 55100 50200 5 8 1 0 90 0 1
file=BC817.cir
}
C 55500 49100 1 270 1 res-1.sym
{
T 56200 49300 5 10 0 0 90 2 1
symversion=1.1
T 56400 49300 5 10 0 0 90 2 1
device=RESISTOR
T 56600 49300 5 10 0 0 90 2 1
footprint=ACY100
T 55250 49300 5 10 1 1 90 0 1
refdes=R8
T 55450 49300 5 10 1 1 90 0 1
value=100k
}
T 49500 58200 9 24 1 0 0 0 1
Transient simulation of voltage waveform at VPP power switch output

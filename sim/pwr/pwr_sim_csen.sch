v 20150930 2
C 40000 40000 0 0 0 title-bordered-A4.sym
{
T 61100 40700 5 14 1 1 0 1 1
project=Project
T 55200 42000 5 20 1 1 0 0 1
title1=Schematic
T 55200 41500 5 20 1 1 0 0 1
title2=Diagram
T 55900 40700 5 14 1 1 0 1 1
file=File.sch
T 63700 40700 5 14 1 1 0 4 1
page=0
T 64700 40700 5 14 1 1 0 4 1
pageof=0
T 64200 42300 5 14 1 1 0 4 1
revision=0.0
T 64200 41500 5 14 1 1 0 4 1
date=05-06-2014
T 58500 40700 5 14 1 1 0 1 1
author=Author
}
C 40800 57900 1 0 0 spice-directive-1.sym
{
T 40900 58200 5 10 0 1 0 0 1
device=directive
T 40900 58300 5 10 1 1 0 0 1
refdes=A1
T 40800 56300 5 10 1 1 0 0 9
value=.OPTIONS ABSTOL=1nA VNTOL=1uV CHGTOL=1pC ITL1=150 ITL2=150 ITL4=500 RELTOL=0.001

.CONTROL
  *OP
  TRAN 0.1u 4m uic
  PLOT V(cset) V(DIFF_OUT) I(Vout) V(#OCPROT)
  meas tran yeval FIND i(Vout) WHEN v(#OCPROT)=4.5 FALL=1
.ENDC

}
C 48500 54400 1 0 0 vdc-1.sym
{
T 48500 55800 5 10 0 0 0 0 1
device=VOLTAGE_SOURCE
T 48500 56000 5 10 0 0 0 0 1
footprint=none
T 49300 55000 5 10 1 1 0 0 1
refdes=V2
T 49300 54800 5 10 1 1 0 0 1
value=DC 5V
}
C 48700 54000 1 0 0 GND-1.sym
C 48700 55400 1 0 0 VCC-1.sym
C 51100 51600 1 0 0 res-1.sym
{
T 51300 52300 5 10 0 0 0 0 1
symversion=1.1
T 51300 52500 5 10 0 0 0 0 1
device=RESISTOR
T 51300 52700 5 10 0 0 0 0 1
footprint=ACY100
T 51300 52050 5 10 1 1 0 0 1
refdes=Rcs
T 51300 51850 5 10 1 1 0 0 1
value=180m
}
N 56700 51700 59800 51700 4
{
T 59200 51750 5 10 1 1 0 0 1
netname=LOAD
}
N 51200 51400 51000 51400 4
N 52000 51400 52200 51400 4
N 52200 51400 52200 51700 4
N 51600 46200 53700 46200 4
{
T 51700 46250 5 10 1 1 0 0 1
netname=DIFF_OUT
}
C 54500 45100 1 0 1 GND-1.sym
C 59600 48500 1 0 0 GND-1.sym
N 59800 49900 59800 48900 4
N 59800 51700 59800 50500 4
C 51300 49900 1 90 0 res-1.sym
{
T 50600 50100 5 10 0 0 90 0 1
symversion=1.1
T 50400 50100 5 10 0 0 90 0 1
device=RESISTOR
T 50200 50100 5 10 0 0 90 0 1
footprint=ACY100
T 50850 50100 5 10 1 1 90 0 1
refdes=R1
T 51050 50100 5 10 1 1 90 0 1
value=1.2k
}
C 52100 49900 1 90 0 res-1.sym
{
T 51400 50100 5 10 0 0 90 0 1
symversion=1.1
T 51200 50100 5 10 0 0 90 0 1
device=RESISTOR
T 51000 50100 5 10 0 0 90 0 1
footprint=ACY100
T 51650 50100 5 10 1 1 90 0 1
refdes=R3
T 51850 50100 5 10 1 1 90 0 1
value=1.2k
}
C 54700 47200 1 0 0 SPICE_OPAMP-1.sym
{
T 55000 48800 5 10 0 0 0 0 1
symversion=1.0
T 55000 49000 5 10 0 0 0 0 1
device=IC
T 55000 48700 5 10 1 1 180 8 1
refdes=XU3
T 55000 48500 5 10 1 1 180 8 1
model-name=LM393
T 56200 47200 5 8 1 0 180 2 1
file=LM393.cir
}
N 54300 47400 54700 47400 4
N 56500 47800 58600 47800 4
{
T 57200 47850 5 10 1 1 0 0 1
netname=#OCPROT
}
C 56800 48100 1 270 1 res-1.sym
{
T 57500 48300 5 10 0 0 90 2 1
symversion=1.1
T 57700 48300 5 10 0 0 90 2 1
device=RESISTOR
T 57900 48300 5 10 0 0 90 2 1
footprint=ACY100
T 57250 48300 5 10 1 1 90 2 1
refdes=R110
T 57050 48300 5 10 1 1 90 2 1
value=10k
}
C 57100 49100 1 0 1 VCC-1.sym
N 56900 48100 56900 47800 4
N 51000 51400 51000 51700 4
N 50000 51700 51100 51700 4
N 55700 51700 52100 51700 4
N 50000 51700 50000 51800 4
C 54600 53600 1 0 0 SPICE_OPAMP_pwr-1.sym
{
T 54600 56000 5 10 0 0 0 0 1
symversion=1.0
T 54600 56200 5 10 0 0 0 0 1
device=IC
T 54600 55800 5 10 0 0 0 0 1
model-name=LM393
T 54500 54300 5 10 1 1 0 0 1
refdes=XU3
T 54500 54500 5 8 1 0 0 0 1
file=LM393.cir
}
C 54600 53200 1 0 0 GND-1.sym
C 54600 55200 1 0 0 VCC-1.sym
N 54300 46500 54300 47400 4
{
T 54250 46900 5 10 1 1 90 6 1
netname=cset
}
C 49800 51800 1 0 0 VCC-1.sym
N 53700 46200 53700 48200 4
C 56700 51300 1 90 0 vdc-1.sym
{
T 56100 52100 5 10 1 1 90 0 1
refdes=Vout
T 55300 51300 5 10 0 0 90 0 1
device=VOLTAGE_SOURCE
T 55100 51300 5 10 0 0 90 0 1
footprint=none
T 56300 52100 5 10 1 1 90 0 1
value=DC 0V
}
N 50500 49900 51200 49900 4
N 52000 49900 52600 49900 4
C 51000 49900 1 270 0 SPICE_OPAMP-1.sym
{
T 52600 49600 5 10 0 0 270 0 1
symversion=1.0
T 52800 49600 5 10 0 0 270 0 1
device=IC
T 50800 48400 5 10 1 1 90 2 1
refdes=XU1
T 51000 48400 5 10 1 1 90 2 1
model-name=TS912
T 52200 49300 5 8 1 0 90 8 1
file=TS912.cir
}
N 51600 46200 51600 48100 4
C 50600 48500 1 90 0 res-1.sym
{
T 49900 48700 5 10 0 0 90 0 1
symversion=1.1
T 49700 48700 5 10 0 0 90 0 1
device=RESISTOR
T 49500 48700 5 10 0 0 90 0 1
footprint=ACY100
T 50150 48700 5 10 1 1 90 0 1
refdes=R2
T 50350 48700 5 10 1 1 90 0 1
value=39k
}
C 52700 48500 1 90 0 res-1.sym
{
T 52000 48700 5 10 0 0 90 0 1
symversion=1.1
T 51800 48700 5 10 0 0 90 0 1
device=RESISTOR
T 51600 48700 5 10 0 0 90 0 1
footprint=ACY100
T 52850 48700 5 10 1 1 90 0 1
refdes=R4
T 53050 48700 5 10 1 1 90 0 1
value=39k
}
N 50500 49500 50500 49900 4
N 52600 49900 52600 49500 4
N 50500 48500 50500 48400 4
N 51600 48100 52600 48100 4
N 52600 48100 52600 48500 4
C 53100 53600 1 0 0 SPICE_OPAMP_pwr-1.sym
{
T 53100 56000 5 10 0 0 0 0 1
symversion=1.0
T 53100 56200 5 10 0 0 0 0 1
device=IC
T 53100 55800 5 10 0 0 0 0 1
model-name=TS912
T 53000 54300 5 10 1 1 0 0 1
refdes=XU1
T 53000 54500 5 8 1 0 0 0 1
file=TS912.cir
}
C 53100 53200 1 0 0 GND-1.sym
C 53100 55200 1 0 0 VCC-1.sym
N 51200 51400 51200 50900 4
N 52000 51400 52000 50900 4
N 53700 48200 54700 48200 4
C 58300 49800 1 0 0 vcvs-1.sym
{
T 58500 50850 5 10 0 0 0 0 1
device=SPICE-vcvs
T 59800 50350 5 10 1 1 0 0 1
refdes=Eload
T 58500 51050 5 10 0 0 0 0 1
symversion=0.1
T 61000 50250 5 10 1 1 0 5 1
value=VALUE={i(Vout)*v(ctrl_load)}
}
C 62400 49100 1 0 0 vdc-1.sym
{
T 63200 49700 5 10 1 1 0 0 1
refdes=Vload
T 62400 50500 5 10 0 0 0 0 1
device=VOLTAGE_SOURCE
T 62400 50700 5 10 0 0 0 0 1
footprint=none
T 63200 49500 5 10 1 1 0 0 1
value=pwl 0ms 200 4ms 50
}
C 63000 48700 1 0 1 GND-1.sym
N 62800 50100 62800 51200 4
{
T 62750 50200 5 10 1 1 90 0 1
netname=ctrl_load
}
C 53900 45500 1 0 0 vdc-1.sym
{
T 54700 46100 5 10 1 1 0 0 1
refdes=Vcset
T 53900 46900 5 10 0 0 0 0 1
device=VOLTAGE_SOURCE
T 53900 47100 5 10 0 0 0 0 1
footprint=none
T 54700 45900 5 10 1 1 0 0 1
value=DC 0.25
}
C 50700 48000 1 0 1 GND-1.sym
T 49500 58200 9 24 1 0 0 0 1
Transient simulation of the overcurrent protection at variable load
T 62300 51600 9 12 1 0 0 0 2
Vload voltage value corresponds
to the resistance of Eload
